"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[9559],{9706:(t,e,n)=>{n.d(e,{L:()=>i});var o=n(57842);const i=n(74235).kr9(o.YP)},69559:(t,e,n)=>{n.d(e,{q:()=>L,Z:()=>Y});var o={};n.r(o),n.d(o,{load_more_button_label:()=>B});var i={};n.r(i),n.d(i,{load_more_button_label:()=>U});var s={};n.r(s),n.d(s,{load_more_button_label:()=>D});var l=n(85893),r=n(3735),a=n(30845),d=n(86706),c=n(91384),h=n(66132),p=n(70549),u=n(18711),I=n(98454),f=n(4094),g=n(4047),b=n(15665),S=n(57842),m=n(30447),O=n(6464),x=n(93416),j=n(15964),v=n(9435),P=n(74235),R=n(17060),_=n(83067),E=n(55360),N=n(6671),q=n(9706);const A="gDCZZ",k="HxaG2",w="ATnvl",C="dycl5 hNER6 jJsTo qBwND",T="PwSsU O84oE",J="rx4AP";var Z=n(85173);const B=()=>"Load more photos",U=()=>"Carga más fotos",D=()=>"さらに写真を読み込む",{getTranslations:F,useTranslations:Q,withTranslations:y}=(0,Z.U)({EnUs:o,EsEs:i,JaJp:s});function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const L=()=>(0,l.jsx)(P.tJQ,{className:k,children:(0,l.jsx)(P.tJQ,{className:w,children:f.w6H(0,17).map((t=>(0,l.jsx)(P.tJQ,{className:C,children:(0,l.jsx)(P.tJQ,{className:T})},t)))})}),$=(0,x.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:g.HP((()=>(0,l.jsx)(_.Z,{type:"photos"}))),getPlaceholderEl:g.HP((()=>(0,l.jsx)(L,{})))}),G=m.Ue();class M extends P.wA2{constructor(){super(...arguments),H(this,"getInfiniteScrollSetting",(t=>{let{shouldRequireInfiniteScrollOptIn:e}=t;return e?G.mk.OptInRequired({optedIn:!1}):G.mk.Enabled()})),H(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),H(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:t}=this.state;G.match({OptInRequired:t=>{let{optedIn:e}=t;const n=G.mk.OptInRequired({optedIn:(0,O.U_)(e)});this.setState({infiniteScrollSetting:n})},[m._]:r.Q1})(t)})),H(this,"fetchDataAndBuildActions",(0,a.Z)((t=>(0,r.ls)(t,b.UI((0,r.ls)(I.Yq,p.N.traverseArray(p.dp),(t=>{let[e,n]=t;return[(0,h.VA)(n),h.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoIds:e.map((t=>t.id))})]}))))))),H(this,"createPhotoFeedIdContextValue",(0,a.Z)((t=>S.G(t))))}UNSAFE_componentWillReceiveProps(t){if(t.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const e=this.getInfiniteScrollSetting(t);this.setState({infiniteScrollSetting:e})}}render(){const{photoFeedOption:t,photosOption:e,children:n,getNoContentEl:o,getPlaceholderEl:i,renderBeneathLoadMoreButton:s,feedId:r,fetchPhotos:a,notifier$:d,intersectionObserverRoot:c,intersectionObserverRootMarginBottom:h,t:p}=this.props,{infiniteScrollSetting:u}=this.state,I=!1===G.match({OptInRequired:t=>{let{optedIn:e}=t;return e},Enabled:()=>!0})(u);return(0,l.jsx)(q.L.Provider,{value:this.createPhotoFeedIdContextValue(r),children:(0,l.jsx)(E.f,{renderItems:n,feedItemsOption:e,feedStateOption:t,getScrollFooterEl:()=>(0,l.jsx)(P.tJQ,{className:J,children:G.match({OptInRequired:t=>{let{optedIn:e}=t;return e?(0,l.jsx)(N.Z,{}):(0,l.jsxs)(P.PRT,{children:[(0,l.jsx)(P.tJQ,{className:A,children:(0,l.jsx)(R.Z,{tag:"button",buttonType:v.L$.Outline,onClick:this.toggleInfiniteScrollOptIn,type:"button",children:p.load_more_button_label()})}),null==s?void 0:s()]})},Enabled:()=>(0,l.jsx)(N.Z,{})})(u)}),getNoContentEl:o,getPlaceholderEl:i,shouldDisableInfiniteScroll:I,fetchDataAndBuildActions:this.fetchDataAndBuildActions(a),notifier$:d,intersectionObserverRoot:c,intersectionObserverRootMarginBottom:h},r)})}}const V=(0,u.O)()((()=>{const t=(0,j.XT)(),e=(0,j.u0)();return(n,o)=>({photoFeedOption:t(n,o.feedId),photosOption:e(n,o.feedId)})})),Y=(0,r.zG)(M,(0,d.$j)(V),y,(t=>(0,c.b9)(t,$)))}}]);
//# sourceMappingURL=9559.72977533ec75588b4308.js.map